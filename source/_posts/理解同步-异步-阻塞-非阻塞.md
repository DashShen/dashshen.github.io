---
title: '理解同步,异步,阻塞,非阻塞'
date: 2016-10-21 23:05:28
tags:
---
同步与异步，阻塞与非阻塞的概念经常让人混淆不清。其实在理解这这两组概念上，主要还是区分他们是用来形容什么的。

# 同步与异步
同步和异步通常是用来形容一次`方法调用`的。同步方法调用一旦开始，调用者必须等到被调用的方法返回之后才能继续执行后续的任务。而异步方法调用,更像是一种消息传递，调用者调用了调用的方法后，可以立即继续执行后续的任务，不用等被调用方法返回结果后再往下执行。举一个实际的例子：
> 比如你现在出门购物，要买一台电视机，你跑到家电市场，看中一台电视机，你就想售货员下单。但是这个时候，售货员告诉你，这款电视机现在没有，必须去仓库里拿。这个时候你就不得不在市场李候着他们，催着他们赶紧把电视机送过来，直到把你商家把你和电视机一起送回家。这就是**同步调用**, 你今天的买电视机的后续事情，都必须等到电视机买到之后才可以继续完成。

> 不过，现在都是网购了，你还是想要一台电视机，你看中型号和款式，便在网上支付。此时买电视机这件事情对你来说已经结束了，之后你想做什么就做什么。因为你知道商家正在加紧安排送货，届时会联系你，你只需要回家收电视机就好了.这就是**异步调用**

# 临界区
为什么要在这里解释一下临界区的概念呢，因为这对于理解阻塞与非阻塞的概念是十分必要的。临界区是用来表示一种`公共资源`或者说是`共享数据`,可以被多个线程使用，但是每一次，只能有一个线程可以使用它。也就是说`临界区资源`被占用，其他线程想使用，就必须等待。比如：
> 办公室中的一台打印机，就是公共资源，但是打印机一个时间只能有一个人可以使用,其他人使用就必须等到这个人打印结束之后才可以使用。

# 阻塞与非阻塞
在理解临界区的概念之后，便可以来讲一下阻塞与非阻塞的概念了。阻塞与非阻塞通常用来形容`多线程间的相互影响`。比如一个线程占用了临界区资源，那么其他所有需要这个资源线程就必须在这个临界去中等待，等待会导致线程挂起，这就是`阻塞`。而`非阻塞`正好相反，它强调没有一个线程可以妨碍其他线程的执行，所有的线程都会尝试不断向前执行。